<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Manoel G F M</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #1a1a2e;
            color: #fff;
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }
        .header {
            text-align: center;
            margin-bottom: 20px;
        }
        .container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        .section {
            background-color: #162447;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            transition: transform 0.2s;
        }
        .section:hover {
            transform: translateY(-5px);
        }
        .section h2 {
            margin-top: 0;
            font-size: 1.3em;
            color: #0d6efd;
            border-bottom: 2px solid #0d6efd;
            padding-bottom: 5px;
        }
        .button {
            display: block;
            width: 100%;
            padding: 12px;
            margin: 8px 0;
            background-color: #0d6efd;
            color: #fff;
            text-align: center;
            text-decoration: none;
            border: none;
            border-radius: 5px;
            font-size: 1em;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .button:hover {
            background-color: #0056b3;
        }
        form {
            margin: 8px 0;
        }

        /* Media Queries para responsividade */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            .container {
                grid-template-columns: 1fr;
            }
            .section {
                padding: 15px;
            }
            .button {
                font-size: 0.95em;
                padding: 10px;
            }
        }
        @media (max-width: 480px) {
            .header h1 {
                font-size: 1.5em;
            }
            .section h2 {
                font-size: 1.1em;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Manoel G F M - ADM</h1>
    </div>
    <div class="container">
        <div class="section">
            <h2>Relatório</h2>
            <form action="https://dc.imile.com/#/DCoperation/ScanQueryNew/ScanQueryArrival" method="get" target="_blank"><button type="submit" class="button">Chegada</button></form>
            <form action="https://dc.imile.com/#/DeviceManagement/DCSortingMachineManagement/SortingDataWaybill" method="get" target="_blank"><button type="submit" class="button">Máquina de Classificação</button></form>
            <form action="https://dc.imile.com/#/DCoperation/ScanQueryNew/ScanQueryLoadingScan" method="get" target="_blank"><button type="submit" class="button">LoadingScan</button></form>
            <form action="https://dc.imile.com/#/DCoperation/ScanQueryNew/ScanQueryLoadingScan" method="get" target="_blank"><button type="submit" class="button">ConsolidaBag</button></form>
            <form action="https://dc.imile.com/#/DCoperation/ScanQueryNew/ScanQueryDeparture" method="get" target="_blank"><button type="submit" class="button">Partida</button></form>
        </div>
        <div class="section">
            <h2>Login e Etiquetas</h2>
            <form action="https://dc.imile.com/#/DCBasicInfo/DCAuthorityManagement/StuffManagement" method="get" target="_blank"><button type="submit" class="button">Login para PDA</button></form>
            <form action="https://dc.imile.com/#/DCoperation/DCOperationmanagement/dsConsolidateScan" method="get" target="_blank"><button type="submit" class="button">Etiqueta PDA</button></form>
            <h2>Controle Carretas</h2>
            <form action="https://dc.imile.com/#/TransportManageDC/DCTransportMonitor/transportMonitorSegmentReport" method="get" target="_blank"><button type="submit" class="button">Verificação Carreta</button></form>
            <form action="https://dc.imile.com/#/DCoperation/DCScanmanagement/ScanQuery" method="get" target="_blank"><button type="submit" class="button">Verificação de Descarga</button></form>
            <form action="https://docs.google.com/spreadsheets/d/1MbhlUShVEn4N9KptmCMxD5fbgdWUpaA6ZcR_7W6guKA/edit?gid=487606796#gid=487606796" method="get" target="_blank"><button type="submit" class="button">Controle de Descarrega / Recebimento</button></form>
        </div>
        <div class="section">
            <h2>Expedição</h2>
            <form action="https://dc.imile.com/#/DCoperation/DCOperationmanagement/loadingScan" method="get" target="_blank"><button type="submit" class="button">Notas / LoadingScan</button></form>
            <form action="https://dc.imile.com/#/DCFinance/MDFeManagement" method="get" target="_blank"><button type="submit" class="button">MDFe</button></form>
            <form action="https://dc.imile.com/#/TransportManageDC/DCTransportMonitor/transportedGoodsValueMonitoring" method="get" target="_blank"><button type="submit" class="button">Monitor de Transporte</button></form>
        </div>
        <div class="section">
            <h2>Acesso Rápido</h2>
            <form action="https://docs.google.com/spreadsheets/d/1HF92DC0X1301vyquRkgRegQwkcXyPzcdEaAQe3SQEF4/edit?gid=1290737513#gid=1290737513" method="get" target="_blank"><button type="submit" class="button">Controle de Expedição</button></form>
            <form action="https://docs.google.com/spreadsheets/d/1pcpj1VUwHIZNjL-qOpVS1apxMo2e_KxYFlJ8xF4rLAY/edit?gid=0#gid=0" method="get" target="_blank"><button type="submit" class="button">Headcount de CDC</button></form>
        </div>
        <div class="section">
            <!-- Headcount Form -->
            <div class="bg-white p-6 rounded-lg shadow-lg text-black">
                <h2 class="text-2xl font-bold mb-4">Registro de Headcount</h2>
                <form id="headcountForm">
                    <div class="mb-4">
                        <label for="date" class="block text-sm font-medium text-gray-700">Data</label>
                        <input type="text" id="date" class="mt-1 block w-full p-2 border border-gray-300 rounded-md" readonly>
                    </div>
                    <div class="mb-4">
                        <label for="turno" class="block text-sm font-medium text-gray-700">Turno</label>
                        <select id="turno" class="mt-1 block w-full p-2 border border-gray-300 rounded-md" required>
                            <option value="T1">T1</option>
                            <option value="T2">T2</option>
                            <option value="T3">T3</option>
                        </select>
                    </div>
                    <div class="mb-4">
                        <label for="tercerizado" class="block text-sm font-medium text-gray-700">Tercerizado (长期工)</label>
                        <input type="number" id="tercerizado" class="mt-1 block w-full p-2 border border-gray-300 rounded-md" min="0" required>
                    </div>
                    <div class="mb-4">
                        <label for="diarista" class="block text-sm font-medium text-gray-700">Diarista (临时工)</label>
                        <input type="number" id="diarista" class="mt-1 block w-full p-2 border border-gray-300 rounded-md" min="0" required>
                    </div>
                    <div class="mb-4">
                        <label for="headcount" class="block text-sm font-medium text-gray-700">Headcount</label>
                        <input type="number" id="headcount" class="mt-1 block w-full p-2 border border-gray-300 rounded-md" readonly>
                    </div>
                    <button type="button" id="sendWhatsApp" class="w-full bg-blue-500 text-white p-4 rounded-md hover:bg-blue-600">Enviar para WhatsApp</button>
                </form>
                <p id="formMessage" class="text-green-500 text-sm mt-4 hidden">Relatório preparado com sucesso!</p>
                <p id="formError" class="text-red-500 text-sm mt-4 hidden">Erro ao preparar relatório.</p>
            </div>
        </div>
    </div>
    <script>
        // Set current date in YYYY-MM-DD format
        const today = new Date();
        const year = today.getFullYear();
        const month = String(today.getMonth() + 1).padStart(2, '0');
        const day = String(today.getDate()).padStart(2, '0');
        document.getElementById('date').value = `${year}-${month}-${day}`;

        // Calculate Headcount
        document.getElementById('tercerizado').addEventListener('input', updateHeadcount);
        document.getElementById('diarista').addEventListener('input', updateHeadcount);

        function updateHeadcount() {
            const tercerizado = parseInt(document.getElementById('tercerizado').value) || 0;
            const diarista = parseInt(document.getElementById('diarista').value) || 0;
            document.getElementById('headcount').value = tercerizado + diarista;
        }

        // Simulate WhatsApp send with new format
        document.getElementById('sendWhatsApp').addEventListener('click', function() {
            const date = document.getElementById('date').value;
            const turno = document.getElementById('turno').value;
            const tercerizado = document.getElementById('tercerizado').value;
            const diarista = document.getElementById('diarista').value;
            const headcount = document.getElementById('headcount').value;

            if (turno && tercerizado && diarista) {
                const message = `Data: ${date}\nTurno: ${turno}\nHeadcount: ${headcount} pessoas\nTercerizado 长期工: ${tercerizado} pessoas\nDiarista 临时工: ${diarista} pessoas`;
                const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(message)}`;
                window.open(whatsappUrl, '_blank');
                document.getElementById('formMessage').classList.remove('hidden');
                setTimeout(() => document.getElementById('formMessage').classList.add('hidden'), 3000);
            } else {
                document.getElementById('formError').classList.remove('hidden');
                setTimeout(() => document.getElementById('formError').classList.add('hidden'), 3000);
            }
        });
    </script>
</body>
</html>
